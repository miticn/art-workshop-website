{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Mister/Desktop/art-workshop-website/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/google-maps\";\nexport class GeocodeService {\n  constructor(geocoder) {\n    this.geocoder = geocoder;\n  }\n\n  geocode(address) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const results = yield _this.geocoder.geocode({\n        address\n      });\n      return results[0].geometry.location;\n    })();\n  }\n\n  reverseGeocode(lat, lng) {\n    return _asyncToGenerator(function* () {\n      const geocoder = new google.maps.Geocoder();\n      const location = new google.maps.LatLng({\n        lat,\n        lng\n      });\n      console.log(location);\n      const results = yield new Promise((resolve, reject) => {\n        geocoder.geocode({\n          location\n        }, (results, status) => {\n          if (status === 'OK') {\n            resolve(results);\n          } else {\n            reject(status);\n          }\n        });\n      });\n      return results[0].formatted_address;\n    })();\n  }\n\n}\n\nGeocodeService.ɵfac = function GeocodeService_Factory(t) {\n  return new (t || GeocodeService)(i0.ɵɵinject(i1.MapGeocoder));\n};\n\nGeocodeService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GeocodeService,\n  factory: GeocodeService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";;;AAMA,OAAM,MAAOA,cAAP,CAAqB;EAEzBC,YAAoBC,QAApB,EAAyC;IAArB;EAA0B;;EAExCC,OAAO,CAACC,OAAD,EAAgB;IAAA;;IAAA;MAC3B,MAAMC,OAAO,SAAS,KAAI,CAACH,QAAL,CAAcC,OAAd,CAAsB;QAAEC;MAAF,CAAtB,CAAtB;MACA,OAAOC,OAAO,CAAC,CAAD,CAAP,CAAWC,QAAX,CAAoBC,QAA3B;IAF2B;EAG5B;;EAEKC,cAAc,CAACC,GAAD,EAAcC,GAAd,EAAyB;IAAA;MAC3C,MAAMR,QAAQ,GAAG,IAAIS,MAAM,CAACC,IAAP,CAAYC,QAAhB,EAAjB;MACA,MAAMN,QAAQ,GAAG,IAAII,MAAM,CAACC,IAAP,CAAYE,MAAhB,CAAuB;QAAEL,GAAF;QAAOC;MAAP,CAAvB,CAAjB;MACAK,OAAO,CAACC,GAAR,CAAYT,QAAZ;MACA,MAAMF,OAAO,SAAS,IAAIY,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAoB;QACpDjB,QAAQ,CAACC,OAAT,CAAiB;UAAEI;QAAF,CAAjB,EAA+B,CAACF,OAAD,EAAUe,MAAV,KAAoB;UACjD,IAAIA,MAAM,KAAK,IAAf,EAAqB;YACnBF,OAAO,CAACb,OAAD,CAAP;UACD,CAFD,MAEO;YACLc,MAAM,CAACC,MAAD,CAAN;UACD;QACF,CAND;MAOD,CARqB,CAAtB;MASA,OAAOf,OAAO,CAAC,CAAD,CAAP,CAAWgB,iBAAlB;IAb2C;EAc5C;;AAvBwB;;;mBAAdrB,gBAAcsB;AAAA;;;SAAdtB;EAAcuB,SAAdvB,cAAc;EAAAwB,YAFb","names":["GeocodeService","constructor","geocoder","geocode","address","results","geometry","location","reverseGeocode","lat","lng","google","maps","Geocoder","LatLng","console","log","Promise","resolve","reject","status","formatted_address","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Mister\\Desktop\\art-workshop-website\\frontend\\src\\app\\services\\geocode.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { MapGeocoder } from '@angular/google-maps';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GeocodeService {\n\n  constructor(private geocoder: MapGeocoder) { }\n\n  async geocode(address: string) {\n    const results = await this.geocoder.geocode({ address });\n    return results[0].geometry.location;\n  }\n\n  async reverseGeocode(lat: number, lng: number) {\n    const geocoder = new google.maps.Geocoder();\n    const location = new google.maps.LatLng({ lat, lng });\n    console.log(location);\n    const results = await new Promise((resolve, reject) => {\n      geocoder.geocode({ location }, (results, status) => {\n        if (status === 'OK') {\n          resolve(results);\n        } else {\n          reject(status);\n        }\n      });\n    });\n    return results[0].formatted_address;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}