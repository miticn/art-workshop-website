{"ast":null,"code":"import { HttpEventType } from '@angular/common/http';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { confirmPasswordValidator } from '../validators/confirmPasswordValidator';\nimport { usernameValidator } from '../validators/usernameValidator';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../users.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"canvas\"];\n\nfunction RegisterComponent_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Ime nije uneto.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Ime mora da po\\u010Dne velikim slovom, a ostala slova moraju biti mala.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Ime ne mo\\u017Ee biti du\\u017Ee od 16 karaktera.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_6_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Ime mora da ima barem dva slova.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_6_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_6_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(3, RegisterComponent_div_6_div_3_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(4, RegisterComponent_div_6_div_4_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.registerForm.controls.firstname.errors == null ? null : ctx_r0.registerForm.controls.firstname.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.registerForm.controls.firstname.errors == null ? null : ctx_r0.registerForm.controls.firstname.errors[\"pattern\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.registerForm.controls.firstname.errors == null ? null : ctx_r0.registerForm.controls.firstname.errors[\"maxlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.registerForm.controls.firstname.errors == null ? null : ctx_r0.registerForm.controls.firstname.errors[\"minlength\"]);\n  }\n}\n\nfunction RegisterComponent_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Prezime nije uneto.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Prezime mora da po\\u010Dne velikim slovom, a ostala slova moraju biti mala.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Prezime ne mo\\u017Ee biti du\\u017Ee od 16 karaktera.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_9_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Prezime mora da ima barem dva slova.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_9_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_9_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(3, RegisterComponent_div_9_div_3_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(4, RegisterComponent_div_9_div_4_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.registerForm.controls.lastname.errors == null ? null : ctx_r1.registerForm.controls.lastname.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.registerForm.controls.lastname.errors == null ? null : ctx_r1.registerForm.controls.lastname.errors[\"pattern\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.registerForm.controls.lastname.errors == null ? null : ctx_r1.registerForm.controls.lastname.errors[\"maxlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.registerForm.controls.lastname.errors == null ? null : ctx_r1.registerForm.controls.lastname.errors[\"minlength\"]);\n  }\n}\n\nfunction RegisterComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Korisni\\u010Dko ime nije uneto.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_13_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Korisni\\u010Dko ime je ve\\u0107 zauzeto.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_13_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_13_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.registerForm.controls.username.errors == null ? null : ctx_r2.registerForm.controls.username.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.registerForm.controls.username.errors == null ? null : ctx_r2.registerForm.controls.username.errors[\"usernameExists\"]);\n  }\n}\n\nfunction RegisterComponent_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Telefon nije unet.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Telefon nije u dobrom formatu\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_16_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_16_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.registerForm.controls.phone.errors == null ? null : ctx_r3.registerForm.controls.phone.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.registerForm.controls.phone.errors == null ? null : ctx_r3.registerForm.controls.phone.errors[\"pattern\"]);\n  }\n}\n\nfunction RegisterComponent_div_20_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email nije unet.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_20_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email nije u dobrom formatu\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_20_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_20_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.registerForm.controls.email.errors == null ? null : ctx_r4.registerForm.controls.email.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.registerForm.controls.email.errors == null ? null : ctx_r4.registerForm.controls.email.errors[\"email\"]);\n  }\n}\n\nfunction RegisterComponent_div_24_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Lozinka nije uneta.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_24_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Lozinka mora imati najmanje 8 karaktera.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_24_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Lozinka mora imati najvi\\u0161e 16 karaktera.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_24_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Lozinka mora imati bar jedno veliko slovo, jedan broj i jedan specijalni karakter, i mora po\\u010Dinjati slovom.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_24_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_24_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(3, RegisterComponent_div_24_div_3_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(4, RegisterComponent_div_24_div_4_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.registerForm.controls.password.errors == null ? null : ctx_r5.registerForm.controls.password.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.registerForm.controls.password.errors == null ? null : ctx_r5.registerForm.controls.password.errors[\"minlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.registerForm.controls.password.errors == null ? null : ctx_r5.registerForm.controls.password.errors[\"maxlength\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.registerForm.controls.password.errors == null ? null : ctx_r5.registerForm.controls.password.errors[\"pattern\"]);\n  }\n}\n\nfunction RegisterComponent_div_28_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Potvrda lozinke je obavezna\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_28_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Lozinke se ne poklapaju.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_28_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_28_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.registerForm.controls.confirmPassword.invalid && ctx_r6.registerForm.controls.confirmPassword.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.registerForm.errors && ctx_r6.registerForm.errors[\"passwordNotMatch\"]);\n  }\n}\n\nfunction RegisterComponent_form_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"form\", 21)(1, \"div\", 1)(2, \"div\", 2);\n    i0.ɵɵelement(3, \"input\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 2);\n    i0.ɵɵelement(5, \"input\", 23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 1)(7, \"div\", 24);\n    i0.ɵɵelement(8, \"input\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 1)(10, \"div\", 26);\n    i0.ɵɵelement(11, \"input\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 28);\n    i0.ɵɵelement(13, \"input\", 29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 1)(15, \"div\", 26);\n    i0.ɵɵelement(16, \"input\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 28);\n    i0.ɵɵelement(18, \"input\", 31);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r7.orgForm);\n  }\n}\n\nfunction RegisterComponent_div_41_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Slika je prevelika.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_41_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Slika je permala.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtemplate(1, RegisterComponent_div_41_div_1_Template, 2, 0, \"div\", 20);\n    i0.ɵɵtemplate(2, RegisterComponent_div_41_div_2_Template, 2, 0, \"div\", 20);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.registerForm.controls.imageDimensionsX.invalid && ctx_r9.registerForm.controls.imageDimensionsX.errors[\"max\"] || ctx_r9.registerForm.controls.imageDimensionsY.invalid && ctx_r9.registerForm.controls.imageDimensionsX.errors[\"max\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.registerForm.controls.imageDimensionsX.invalid && ctx_r9.registerForm.controls.imageDimensionsX.errors[\"min\"] || ctx_r9.registerForm.controls.imageDimensionsY.invalid && ctx_r9.registerForm.controls.imageDimensionsX.errors[\"min\"]);\n  }\n}\n\nexport class RegisterComponent {\n  constructor(service) {\n    this.service = service;\n    this.registerForm = new FormGroup({\n      firstname: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[A-Z][a-z]*\")]),\n      lastname: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[A-Z][a-zA-Z]*\")]),\n\n      /**/\n      username: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z0-9]*\")], [usernameValidator(this.service)]),\n      phone: new FormControl('', [Validators.required, Validators.pattern(\"^[+]?[0-9]{5,15}$\")]),\n\n      /**/\n      email: new FormControl('', [Validators.required, Validators.email]),\n      password: new FormControl('', [Validators.required, Validators.minLength(8), Validators.maxLength(16), Validators.pattern(\"^(.*[a-zA-Z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])[a-zA-Z0-9!@#\\$%\\^&\\*]+$\")]),\n      confirmPassword: new FormControl('', [Validators.required]),\n      profilePicture: new FormControl('', []),\n      profilePicutreFile: new FormControl(null, []),\n      imageDimensionsX: new FormControl(100, [Validators.max(300), Validators.min(100)]),\n      imageDimensionsY: new FormControl(100, [Validators.max(300), Validators.min(100)]),\n      organizer: new FormControl(false, [])\n    }, {\n      validators: [confirmPasswordValidator],\n      asyncValidators: [usernameValidator(this.service)]\n    });\n    this.orgForm = new FormGroup({\n      organizationName: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z0-9\\s]*\")]),\n      matNumber: new FormControl('', [Validators.required, Validators.pattern(\"[0-9]*\")]),\n      country: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z\\s]*\")]),\n      city: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z\\s]*\")]),\n      postNumber: new FormControl('', [Validators.required, Validators.maxLength(10), Validators.pattern(\"[0-9A-Z]*\")]),\n      street: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z\\s]*\")]),\n      streetNumber: new FormControl('', [Validators.required, Validators.maxLength(6), Validators.pattern(\"[0-9]*[a-zA-Z]?]\")])\n    });\n  }\n\n  ngOnInit() {}\n\n  onFileChange(event) {\n    console.log(this.registerForm.controls);\n    console.log(\"Register form validation: \", this.registerForm.valid);\n\n    if (event.target.files.length == 0) {\n      this.registerForm.controls.imageDimensionsX.setValue(100);\n      this.registerForm.controls.imageDimensionsY.setValue(100);\n    }\n\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.registerForm.patchValue({\n        profilePicutreFile: file\n      });\n      const canvas = this.canvas.nativeElement;\n      const context = canvas.getContext('2d');\n      const image = new Image();\n      image.src = URL.createObjectURL(event.target.files[0]);\n\n      image.onload = () => {\n        canvas.width = image.width;\n        canvas.height = image.height;\n        context.drawImage(image, 0, 0, image.width, image.height);\n        this.registerForm.controls.imageDimensionsX.setValue(image.width);\n        this.registerForm.controls.imageDimensionsY.setValue(image.height);\n        console.log('Image dimensions:', this.registerForm.value.imageDimensionsX, this.registerForm.value.imageDimensionsY);\n        console.log(this.registerForm.controls.imageDimensionsX.errors);\n      };\n    }\n  }\n\n  register() {\n    this.service.isUsernameFree(this.registerForm.value.username).subscribe(res => {\n      alert(\"Username \" + res['free']);\n    });\n    this.service.isEmailFree(this.registerForm.value.email).subscribe(res => {\n      alert(\"Email \" + res['free']);\n    });\n    alert(JSON.stringify(this.registerForm.errors));\n    this.service.register(this.registerForm.value).subscribe(res => {\n      this.message = res['message'];\n      alert(this.message);\n    });\n    this.service.uploadProfilePicture(this.registerForm.value.username, this.registerForm.get('profilePicutreFile').value).subscribe(event => {\n      if (event.type === HttpEventType.UploadProgress) {\n        console.log('Upload progress: ' + Math.round(event.loaded / event.total * 100) + '%');\n      } else if (event.type === HttpEventType.Response) {\n        console.log(event);\n      }\n    });\n  }\n\n}\n\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.UsersService));\n};\n\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  viewQuery: function RegisterComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n    }\n  },\n  decls: 46,\n  vars: 13,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-sm-6\"], [\"type\", \"text\", \"id\", \"firstname\", \"name\", \"firstname\", \"formControlName\", \"firstname\", \"placeholder\", \"Ime\", 1, \"form-control\"], [\"class\", \"inputError\", 4, \"ngIf\"], [\"type\", \"text\", \"id\", \"lastname\", \"name\", \"lastname\", \"formControlName\", \"lastname\", \"placeholder\", \"Prezime\", 1, \"form-control\", \"col-sm-6\"], [\"type\", \"text\", \"name\", \"username\", \"formControlName\", \"username\", \"placeholder\", \"Korisni\\u010Dko ime\", 1, \"form-control\"], [\"type\", \"text\", \"name\", \"phone\", \"formControlName\", \"phone\", \"placeholder\", \"Telefon\", 1, \"form-control\"], [1, \"col-sm-12\"], [\"type\", \"email\", \"name\", \"email\", \"formControlName\", \"email\", \"placeholder\", \"Email\", 1, \"form-control\"], [\"type\", \"password\", \"name\", \"password\", \"formControlName\", \"password\", \"placeholder\", \"Lozinka\", 1, \"form-control\"], [\"type\", \"password\", \"name\", \"confirmPassword\", \"formControlName\", \"confirmPassword\", \"placeholder\", \"Potvrda lozinke\", 1, \"form-control\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"organizer\", \"name\", \"organizer\", \"formControlName\", \"organizer\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"organizer\", 1, \"form-check-label\"], [3, \"formGroup\", 4, \"ngIf\"], [\"type\", \"file\", \"formControlName\", \"profilePicture\", \"name\", \"profilePicture\", \"accept\", \"image/jpeg, image/png\", 1, \"form-control\", 3, \"change\"], [\"canvas\", \"\"], [1, \"btn\", \"btn-dark\", \"w-100\", 3, \"disabled\"], [1, \"inputError\"], [4, \"ngIf\"], [3, \"formGroup\"], [\"type\", \"text\", \"name\", \"organizationName\", \"formControlName\", \"organizationName\", \"placeholder\", \"Ime organizacije\", 1, \"form-control\"], [\"type\", \"text\", \"name\", \"matNumber\", \"formControlName\", \"matNumber\", \"placeholder\", \"Mati\\u010Dni broj organizacije\", 1, \"form-control\"], [\"div\", \"\", 1, \"col-sm-12\"], [\"type\", \"text\", \"name\", \"country\", \"formControlName\", \"country\", \"placeholder\", \"Dr\\u017Eava\", 1, \"form-control\"], [1, \"col-sm-8\"], [\"type\", \"text\", \"name\", \"city\", \"formControlName\", \"city\", \"placeholder\", \"Grad\", 1, \"form-control\"], [1, \"col-sm-4\"], [\"type\", \"text\", \"name\", \"postNumber\", \"formControlName\", \"postNumber\", \"placeholder\", \"Po\\u0161tanski broj\", 1, \"form-control\"], [\"type\", \"text\", \"name\", \"street\", \"formControlName\", \"street\", \"placeholder\", \"Ulica\", 1, \"form-control\"], [\"type\", \"text\", \"name\", \"streetNumber\", \"formControlName\", \"streetNumber\", \"placeholder\", \"Broj\", 1, \"form-control\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Registrujte se\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2);\n      i0.ɵɵelement(5, \"input\", 3);\n      i0.ɵɵtemplate(6, RegisterComponent_div_6_Template, 5, 4, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 2);\n      i0.ɵɵelement(8, \"input\", 5);\n      i0.ɵɵtemplate(9, RegisterComponent_div_9_Template, 5, 4, \"div\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 1)(11, \"div\", 2);\n      i0.ɵɵelement(12, \"input\", 6);\n      i0.ɵɵtemplate(13, RegisterComponent_div_13_Template, 3, 2, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2);\n      i0.ɵɵelement(15, \"input\", 7);\n      i0.ɵɵtemplate(16, RegisterComponent_div_16_Template, 3, 2, \"div\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 1)(18, \"div\", 8);\n      i0.ɵɵelement(19, \"input\", 9);\n      i0.ɵɵtemplate(20, RegisterComponent_div_20_Template, 3, 2, \"div\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 1)(22, \"div\", 8);\n      i0.ɵɵelement(23, \"input\", 10);\n      i0.ɵɵtemplate(24, RegisterComponent_div_24_Template, 5, 4, \"div\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 1)(26, \"div\", 8);\n      i0.ɵɵelement(27, \"input\", 11);\n      i0.ɵɵtemplate(28, RegisterComponent_div_28_Template, 3, 2, \"div\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"div\", 12)(30, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.organizer = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"label\", 14);\n      i0.ɵɵtext(32, \" Organizator \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(33, RegisterComponent_form_33_Template, 19, 1, \"form\", 15);\n      i0.ɵɵelementStart(34, \"div\")(35, \"div\");\n      i0.ɵɵtext(36, \"Profilna slika\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\")(38, \"input\", 16);\n      i0.ɵɵlistener(\"change\", function RegisterComponent_Template_input_change_38_listener($event) {\n        return ctx.onFileChange($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"canvas\", null, 17);\n      i0.ɵɵtemplate(41, RegisterComponent_div_41_Template, 3, 2, \"div\", 4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"div\")(43, \"button\", 18);\n      i0.ɵɵtext(44, \"Registrujte se\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtext(45);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.firstname.invalid && (ctx.registerForm.controls.firstname.dirty || ctx.registerForm.controls.firstname.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.lastname.invalid && (ctx.registerForm.controls.lastname.dirty || ctx.registerForm.controls.lastname.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.username.invalid && (ctx.registerForm.controls.username.dirty || ctx.registerForm.controls.username.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.phone.invalid && (ctx.registerForm.controls.phone.dirty || ctx.registerForm.controls.phone.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.email.invalid && (ctx.registerForm.controls.email.dirty || ctx.registerForm.controls.email.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.password.invalid && (ctx.registerForm.controls.password.dirty || ctx.registerForm.controls.password.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.confirmPassword.dirty || ctx.registerForm.controls.confirmPassword.touched);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.organizer);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.organizer);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.registerForm.controls.profilePicture.dirty || ctx.registerForm.controls.profilePicture.touched);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\\n\", ctx.message, \"\\n\");\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.CheckboxControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\".row[_ngcontent-%COMP%]{\\r\\n    padding-bottom: 0.5rem;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%]{\\r\\n    margin-top: 1rem;\\r\\n}\\r\\n.inputError[_ngcontent-%COMP%]{\\r\\n    color:red;\\r\\n}\\r\\nh2[_ngcontent-%COMP%]{\\r\\n    margin-top: 1rem;\\r\\n    margin-bottom: 1rem;\\r\\n}\\r\\ninput[type='checkbox'][_ngcontent-%COMP%]{\\r\\n    margin-bottom: 1rem;\\r\\n}\\r\\ncanvas[_ngcontent-%COMP%]{\\r\\n    display: none;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxzQkFBc0I7QUFDMUI7QUFDQTtJQUNJLGdCQUFnQjtBQUNwQjtBQUVBO0lBQ0ksU0FBUztBQUNiO0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxtQkFBbUI7QUFDdkI7QUFFQTtJQUNJLGFBQWE7QUFDakIiLCJmaWxlIjoicmVnaXN0ZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5yb3d7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMC41cmVtO1xyXG59XHJcbmJ1dHRvbntcclxuICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbn1cclxuXHJcbi5pbnB1dEVycm9ye1xyXG4gICAgY29sb3I6cmVkO1xyXG59XHJcblxyXG5oMntcclxuICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG59XHJcbmlucHV0W3R5cGU9J2NoZWNrYm94J117XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG59XHJcblxyXG5jYW52YXN7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59Il19 */\"]\n});","map":{"version":3,"mappings":"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","names":["HttpEventType","FormControl","FormGroup","Validators","confirmPasswordValidator","usernameValidator","i0","RegisterComponent","constructor","service","firstname","required","minLength","maxLength","pattern","lastname","username","phone","email","password","confirmPassword","profilePicture","profilePicutreFile","imageDimensionsX","max","min","imageDimensionsY","organizer","validators","asyncValidators","organizationName","matNumber","country","city","postNumber","street","streetNumber","ngOnInit","onFileChange","event","console","log","registerForm","controls","valid","target","files","length","setValue","file","patchValue","canvas","nativeElement","context","getContext","image","Image","src","URL","createObjectURL","onload","width","height","drawImage","value","errors","register","isUsernameFree","subscribe","res","alert","isEmailFree","JSON","stringify","message","uploadProfilePicture","get","type","UploadProgress","Math","round","loaded","total","Response","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Mister\\Desktop\\art-workshop-website\\frontend\\src\\app\\register\\register.component.ts","C:\\Users\\Mister\\Desktop\\art-workshop-website\\frontend\\src\\app\\register\\register.component.html"],"sourcesContent":["import { HttpEventType } from '@angular/common/http';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { UsersService } from '../users.service';\r\nimport { confirmPasswordValidator } from '../validators/confirmPasswordValidator';\r\nimport { usernameValidator } from '../validators/usernameValidator';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  constructor(private service: UsersService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n  registerForm = new FormGroup({\r\n    firstname: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[A-Z][a-z]*\")]),\r\n    lastname: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[A-Z][a-zA-Z]*\")]),\r\n    /**/username: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z0-9]*\")],[usernameValidator(this.service)]),\r\n    phone: new FormControl('', [Validators.required, Validators.pattern(\"^[+]?[0-9]{5,15}$\")]),\r\n    /**/email: new FormControl('', [Validators.required, Validators.email]),\r\n    password: new FormControl('', [Validators.required, Validators.minLength(8), Validators.maxLength(16), Validators.pattern(\"^(.*[a-zA-Z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])[a-zA-Z0-9!@#\\$%\\^&\\*]+$\")]),\r\n    confirmPassword: new FormControl('', [Validators.required]),\r\n    profilePicture: new FormControl('', []),\r\n    profilePicutreFile: new FormControl(null, []),\r\n    imageDimensionsX: new FormControl(100, [Validators.max(300), Validators.min(100)]),\r\n    imageDimensionsY: new FormControl(100, [Validators.max(300), Validators.min(100)]),\r\n    organizer: new FormControl(false, []),\r\n    }, { validators: [confirmPasswordValidator],\r\n        asyncValidators: [usernameValidator(this.service)] });\r\n\r\n  orgForm = new FormGroup({\r\n    organizationName: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z0-9\\s]*\")]),\r\n    matNumber: new FormControl('', [Validators.required, Validators.pattern(\"[0-9]*\")]),\r\n    country: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z\\s]*\")]),\r\n    city: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z\\s]*\")]),\r\n    postNumber: new FormControl('', [Validators.required, Validators.maxLength(10) , Validators.pattern(\"[0-9A-Z]*\")]),\r\n    street: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(16), Validators.pattern(\"[a-zA-Z\\s]*\")]),\r\n    streetNumber: new FormControl('', [Validators.required,Validators.maxLength(6), Validators.pattern(\"[0-9]*[a-zA-Z]?]\")]),\r\n  });\r\n  message:string;\r\n  organizer:boolean;\r\n  @ViewChild('canvas', { static: false }) canvas\r\n  onFileChange(event) {\r\n    console.log(this.registerForm.controls);\r\n    console.log(\"Register form validation: \", this.registerForm.valid);\r\n    \r\n    if (event.target.files.length == 0){\r\n      this.registerForm.controls.imageDimensionsX.setValue(100);\r\n      this.registerForm.controls.imageDimensionsY.setValue(100);\r\n    }\r\n\r\n    if (event.target.files.length > 0) {\r\n      const file = event.target.files[0];\r\n      this.registerForm.patchValue({\r\n        profilePicutreFile: file\r\n      });\r\n      const canvas = this.canvas.nativeElement;\r\n      const context = canvas.getContext('2d');\r\n      const image = new Image();\r\n      image.src = URL.createObjectURL(event.target.files[0]);\r\n      image.onload = () => {\r\n        canvas.width = image.width;\r\n        canvas.height = image.height;\r\n        context.drawImage(image, 0, 0, image.width, image.height);\r\n        this.registerForm.controls.imageDimensionsX.setValue(image.width);\r\n        this.registerForm.controls.imageDimensionsY.setValue(image.height);\r\n        console.log('Image dimensions:', this.registerForm.value.imageDimensionsX, this.registerForm.value.imageDimensionsY);\r\n        console.log(this.registerForm.controls.imageDimensionsX.errors)\r\n      };\r\n    }\r\n  }\r\n\r\n  register(){\r\n    this.service.isUsernameFree(this.registerForm.value.username).subscribe((res:any) => {\r\n      alert(\"Username \"+res['free']);\r\n    });\r\n    this.service.isEmailFree(this.registerForm.value.email).subscribe((res:any) => {\r\n      alert(\"Email \"+res['free']);\r\n    });\r\n    alert(JSON.stringify(this.registerForm.errors))\r\n    this.service.register(this.registerForm.value).subscribe((res:any) => {\r\n      this.message = res['message'];\r\n      alert(this.message);\r\n    });\r\n    this.service.uploadProfilePicture(this.registerForm.value.username, this.registerForm.get('profilePicutreFile').value)\r\n      .subscribe(event => {\r\n        if (event.type === HttpEventType.UploadProgress) {\r\n          console.log('Upload progress: ' + Math.round(event.loaded / event.total * 100) + '%');\r\n        } else if (event.type === HttpEventType.Response) {\r\n          console.log(event);\r\n        }\r\n      });\r\n  };\r\n\r\n}\r\n","<h2>Registrujte se</h2>\n<form [formGroup]=\"registerForm\" (ngSubmit)=\"register()\">\n    <div class=\"row\">\n        <div class=\"col-sm-6\">\n            <input type=\"text\" class=\"form-control\" id=\"firstname\" name=\"firstname\" formControlName=\"firstname\" placeholder=\"Ime\">\n            <div *ngIf=\"registerForm.controls.firstname.invalid && (registerForm.controls.firstname.dirty || registerForm.controls.firstname.touched)\" class=\"inputError\">\n                <div *ngIf=\"registerForm.controls.firstname.errors?.['required']\">Ime nije uneto.</div>\n                <div *ngIf=\"registerForm.controls.firstname.errors?.['pattern']\">Ime mora da počne velikim slovom, a ostala slova moraju biti mala.</div>\n                <div *ngIf=\"registerForm.controls.firstname.errors?.['maxlength']\">Ime ne može biti duže od 16 karaktera.</div>\n                <div *ngIf=\"registerForm.controls.firstname.errors?.['minlength']\">Ime mora da ima barem dva slova.</div>\n            </div>\n        </div>\n        <div class=\"col-sm-6\">\n            <input type=\"text\" class=\"form-control col-sm-6\" id=\"lastname\" name=\"lastname\" formControlName=\"lastname\" placeholder=\"Prezime\">\n            <div *ngIf=\"registerForm.controls.lastname.invalid && (registerForm.controls.lastname.dirty || registerForm.controls.lastname.touched)\" class=\"inputError\">\n                <div *ngIf=\"registerForm.controls.lastname.errors?.['required']\">Prezime nije uneto.</div>\n                <div *ngIf=\"registerForm.controls.lastname.errors?.['pattern']\">Prezime mora da počne velikim slovom, a ostala slova moraju biti mala.</div>\n                <div *ngIf=\"registerForm.controls.lastname.errors?.['maxlength']\">Prezime ne može biti duže od 16 karaktera.</div>\n                <div *ngIf=\"registerForm.controls.lastname.errors?.['minlength']\">Prezime mora da ima barem dva slova.</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-6\">\n            <input type=\"text\" class=\"form-control\" name=\"username\" formControlName=\"username\" placeholder=\"Korisničko ime\">\n            <div *ngIf=\"registerForm.controls.username.invalid && (registerForm.controls.username.dirty || registerForm.controls.username.touched)\" class=\"inputError\">\n                <div *ngIf=\"registerForm.controls.username.errors?.['required']\">Korisničko ime nije uneto.</div>\n                <div *ngIf=\"registerForm.controls.username.errors?.['usernameExists']\">Korisničko ime je već zauzeto.</div>\n            </div>\n            \n        </div>\n        <div class=\"col-sm-6\">\n            <input type=\"text\" class=\"form-control\" name=\"phone\" formControlName=\"phone\" placeholder=\"Telefon\">\n            <div *ngIf=\"registerForm.controls.phone.invalid && (registerForm.controls.phone.dirty || registerForm.controls.phone.touched)\" class=\"inputError\">\n                <div *ngIf=\"registerForm.controls.phone.errors?.['required']\">Telefon nije unet.</div>\n                <div *ngIf=\"registerForm.controls.phone.errors?.['pattern']\">Telefon nije u dobrom formatu</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <input type=\"email\" class=\"form-control\" name=\"email\" formControlName=\"email\" placeholder=\"Email\">\n            <div *ngIf=\"registerForm.controls.email.invalid && (registerForm.controls.email.dirty || registerForm.controls.email.touched)\" class=\"inputError\">\n                <div *ngIf=\"registerForm.controls.email.errors?.['required']\">Email nije unet.</div>\n                <div *ngIf=\"registerForm.controls.email.errors?.['email']\">Email nije u dobrom formatu</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <input type=\"password\" class=\"form-control\" name=\"password\" formControlName=\"password\" placeholder=\"Lozinka\">\n            <div *ngIf=\"registerForm.controls.password.invalid && (registerForm.controls.password.dirty || registerForm.controls.password.touched)\" class=\"inputError\">\n                <div *ngIf=\"registerForm.controls.password.errors?.['required']\">Lozinka nije uneta.</div>\n                <div *ngIf=\"registerForm.controls.password.errors?.['minlength']\">Lozinka mora imati najmanje 8 karaktera.</div>\n                <div *ngIf=\"registerForm.controls.password.errors?.['maxlength']\">Lozinka mora imati najviše 16 karaktera.</div>\n                <div *ngIf=\"registerForm.controls.password.errors?.['pattern']\">Lozinka mora imati bar jedno veliko slovo, jedan broj i jedan specijalni karakter, i mora počinjati slovom.</div>\n            </div>\n            \n        </div>\n    </div>\n    <div class=\"row\">\n        <div class=\"col-sm-12\">\n            <input type=\"password\" class=\"form-control\" name=\"confirmPassword\" formControlName=\"confirmPassword\" placeholder=\"Potvrda lozinke\">\n            <div *ngIf=\"(registerForm.controls.confirmPassword.dirty || registerForm.controls.confirmPassword.touched)\" class=\"inputError\">\n                <div *ngIf=\"registerForm.controls.confirmPassword.invalid && registerForm.controls.confirmPassword.errors['required']\">Potvrda lozinke je obavezna</div>\n                <div *ngIf=\"this.registerForm.errors && registerForm.errors['passwordNotMatch']\">Lozinke se ne poklapaju.</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form-check\">\n        <input class=\"form-check-input\" type=\"checkbox\" id=\"organizer\" name=\"organizer\" [(ngModel)]=\"organizer\" formControlName=\"organizer\">\n        <label class=\"form-check-label\" for=\"organizer\">\n            Organizator\n        </label>\n    </div>\n    <form [formGroup]=\"orgForm\" *ngIf=\"organizer\">\n        <div class=\"row\">\n            <div class=\"col-sm-6\">\n                <input type=\"text\" class=\"form-control\" name=\"organizationName\" formControlName=\"organizationName\" placeholder=\"Ime organizacije\">\n            </div>\n            <div class=\"col-sm-6\">\n                <input type=\"text\" class=\"form-control\" name=\"matNumber\" formControlName=\"matNumber\" placeholder=\"Matični broj organizacije\">\n            </div>\n        </div>\n        <div class=\"row\">\n            <div div class=\"col-sm-12\">\n                <input type=\"text\" class=\"form-control\" name=\"country\" formControlName=\"country\" placeholder=\"Država\">\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-sm-8\">\n                <input type=\"text\" class=\"form-control\" name=\"city\" formControlName=\"city\" placeholder=\"Grad\">\n            </div>\n            <div class=\"col-sm-4\">\n                <input type=\"text\" class=\"form-control\" name=\"postNumber\" formControlName=\"postNumber\" placeholder=\"Poštanski broj\">\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-sm-8\">\n                <input type=\"text\" class=\"form-control\" name=\"street\" formControlName=\"street\" placeholder=\"Ulica\">\n            </div>\n            <div class=\"col-sm-4\">\n                <input type=\"text\" class=\"form-control\" name=\"streetNumber\" formControlName=\"streetNumber\" placeholder=\"Broj\">\n            </div>\n        </div>\n    </form>\n    <div>\n        <div>Profilna slika</div>\n        <div>\n            <input type=\"file\" class=\"form-control\" formControlName=\"profilePicture\" name=\"profilePicture\" accept=\"image/jpeg, image/png\" (change)=\"onFileChange($event)\">\n            <canvas #canvas></canvas>\n            <div *ngIf=\"(registerForm.controls.profilePicture.dirty || registerForm.controls.profilePicture.touched)\" class=\"inputError\">\n                <div *ngIf=\"(registerForm.controls.imageDimensionsX.invalid && registerForm.controls.imageDimensionsX.errors['max'])\n                || (registerForm.controls.imageDimensionsY.invalid && registerForm.controls.imageDimensionsX.errors['max'])\">Slika je prevelika.</div>\n                <div *ngIf=\"(registerForm.controls.imageDimensionsX.invalid && registerForm.controls.imageDimensionsX.errors['min'])\n                || (registerForm.controls.imageDimensionsY.invalid && registerForm.controls.imageDimensionsX.errors['min'])\">Slika je permala.</div>\n            </div>\n        </div>\n    </div>\n    <div>\n        <button class=\"btn btn-dark w-100\" [disabled]=\"registerForm.invalid\">Registrujte se</button>      \n    </div>\n</form>\n{{message}}\n"]},"metadata":{},"sourceType":"module"}